<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="pacman"
  [fullScreen]="true"
  ><p style="color: white;">Cargando...</p></ngx-spinner
>

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink="/home">Inicio</a></li>
    <li class="breadcrumb-item active" aria-current="page">
      Nueva orden
    </li>
  </ol>
</nav>

<div class="d-flex justify-content-center">
  <div class="col-xs-12 col-sm-10 col-md-8">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Registro orden de pedido</h5>
        <form [formGroup]="form" (ngSubmit)="onSave()" novalidate>
          <div class="form-group">
            <label>Canal</label>
            <input
              type="text"
              class="form-control"
              formControlName="channel"
              [ngClass]="{ 'is-invalid': submitted && f.channel.errors }"
              autofocus
            />
            <span
              *ngIf="submitted && f.channel.errors"
              class="invalid-feedback"
            >
              <div *ngIf="f.channel.invalid" class="alert alert-danger">
                El canal es requerido
              </div>
            </span>
          </div>
          <div class="form-group">
            <label>Estado</label>
            <select
              class="form-control"
              formControlName="state"
              [ngClass]="{ 'is-invalid': submitted && f.state.errors }"
            >
              <option value="">Seleccione estado</option>
              <option value="reservada">Reservada</option>
              <option value="pendiente">Pendiente</option>
              <option value="transito">En tránsito</option>
              <option value="recoger">Listo para recoger</option>
              <option value="cerrada">Cerrada</option>
              <option value="cancelada">Cancelada</option>
            </select>
            <span
              *ngIf="submitted && f.state.errors"
              class="invalid-feedback"
            >
              <div *ngIf="f.state.invalid" class="alert alert-danger">
                El estado es requerido
              </div>
            </span>
          </div>
          <div class="form-row">
            <div class="form-group col-md-4">
              <label>Valor base</label>
              <input
                type="number"
                class="form-control"
                formControlName="value"
                [ngClass]="{ 'is-invalid': submitted && f.value.errors }"
              />
              <span
                *ngIf="submitted && f.value.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.value.invalid" class="alert alert-danger">
                  El valor base es requerido
                </div>
              </span>
            </div>
            <div class="form-group col-md-4">
              <label>Descuento</label>
              <input
                type="number"
                class="form-control"
                formControlName="discount"
                [ngClass]="{ 'is-invalid': submitted && f.discount.errors }"
              />
              <span
                *ngIf="submitted && f.discount.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.discount.invalid" class="alert alert-danger">
                  El descuento es requerido
                </div>
              </span>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label>Tipo de entrega</label>
              <select
                class="form-control"
                formControlName="delivery"
                [ngClass]="{ 'is-invalid': submitted && f.delivery.errors }"
              >
                <option value="">Seleccione tipo de entrega</option>
                <option value="estandar">Estándar</option>
                <option value="express">Express</option>
              </select>
              <span
                *ngIf="submitted && f.delivery.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.delivery.invalid" class="alert alert-danger">
                  El tipo de entrega es requerido
                </div>
              </span>
            </div>
            <div class="form-group col-md-6">
              <label>Tipo de envío</label>
              <select
                class="form-control"
                formControlName="dispatch"
                [ngClass]="{ 'is-invalid': submitted && f.dispatch.errors }"
              >
                <option value="">Seleccione tipo de envío</option>
                <option value="tienda">Entrega en tienda</option>
                <option value="domicilio">Entrega en domicilio</option>
              </select>
              <span
                *ngIf="submitted && f.dispatch.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.dispatch.invalid" class="alert alert-danger">
                  El tipo de envío es requerido
                </div>
              </span>
            </div>
          </div>
          <hr />
          <div class="form-row">
            <button type="submit" class="btn btn-primary ml-auto">
              Siguiente
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
